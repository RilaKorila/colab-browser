import type { GetStaticProps, InferGetStaticPropsType, NextPage } from 'next'
import Head from 'next/head'
import Image from 'next/image'
import Link from 'next/link'
import { Footer, Container, H2 } from '../components/Layout'
import styled from 'styled-components'
import { client } from "../libs/client";
import CardGrid from '../components/CardGrid'
import React from 'react'

// (TODO) Layoutを呼び出す + position, ul>li>>color のみ変更
const StyledHeader = styled.div`
  top: 0;
  right: 0;
  text-align: center;
  background-color: transparent;
  position: absolute;

  >ul{
    display:flex;
    justify-content: flex-end;
    align-items: center;
    
    >li{
      list-style: none;
      font-size: 16px;
      color: white;
      opacity: 0.7;
      padding:10px 30px;
    }
  }
`;

const Top = styled.div`
  padding: 180px 0 100px 0;
  height: 400px;
  position: relative;
  text-align: center;

  >h1{
    font-size: 5.0em;
    opacity: 0.7;
    letter-spacing: 5px;
    text-align: center;
    color: white;
  }
`;

const Home: NextPage = ({colab}: InferGetStaticPropsType<typeof getStaticProps>) => (
  <>
    <Head>
      <title>Enjoy Computer Science</title>
      <meta name="description" content="Generated by create next app" />
      <link rel="icon" href="/favicon.ico" />
    </Head>

    <Top>
      <Image alt="Picture of starry sky" src="/starry_sky.jpg" layout="fill" />
      <StyledHeader>
        <ul>
          <li><Link href="/">Home</Link></li>
          {/* <li>Search</li> */}
          <li><Link href="/posts/">Library</Link></li>
          <li>Help</li>
        </ul>
      </StyledHeader>
      <h1>
        Let&apos;s Enjoy Computer Science !
      </h1>
    </Top>

    <Container>
            <H2>気になるテーマからはじめてみよう！</H2>
            <CardGrid  items={colab} />
    </Container>

    <Footer>
      <p>Let&apos;s Enjoy Programming !!</p>
      {/* <Image src="/vercel.svg" alt="Vercel Logo" width={72} height={16} /> */}
    </Footer>
  </>
)


// データをテンプレートに受け渡す部分の処理を記述
export const getStaticProps: GetStaticProps = async () => {
  const data = await client.get({ endpoint: "colab-url" });

  return {
    props: {
      colab: data.contents,
    },
  };
};



export default Home